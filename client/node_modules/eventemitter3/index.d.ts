<<<<<<< HEAD
type EventNames<T extends string | symbol | { [K in string | symbol]: any[] }> = T extends string | symbol ? T : keyof T;
type EventArgs<T extends string | symbol | { [K in string | symbol]: any[] }, K extends EventNames<T>> = T extends string | symbol ? any[] : K extends keyof T ? T[K] : never;

=======
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a
/**
 * Minimal `EventEmitter` interface that is molded against the Node.js
 * `EventEmitter` interface.
 */
<<<<<<< HEAD
declare class EventEmitter<EventTypes extends string | symbol | { [K in keyof EventTypes]: any[] } = string | symbol> {
=======
declare class EventEmitter<EventTypes extends string | symbol = string | symbol> {
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a
  static prefixed: string | boolean;

  /**
   * Return an array listing the events for which the emitter has registered
   * listeners.
   */
<<<<<<< HEAD
  eventNames(): Array<EventNames<EventTypes>>;
=======
  eventNames(): Array<EventTypes>;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Return the listeners registered for a given event.
   */
<<<<<<< HEAD
  listeners<T extends EventNames<EventTypes>>(event: T): Array<EventEmitter.ListenerFn<EventArgs<EventTypes, T>>>;
=======
  listeners(event: EventTypes): Array<EventEmitter.ListenerFn>;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Return the number of listeners listening to a given event.
   */
<<<<<<< HEAD
  listenerCount(event: EventNames<EventTypes>): number;
=======
  listenerCount(event: EventTypes): number;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Calls each of the listeners registered for a given event.
   */
<<<<<<< HEAD
  emit<T extends EventNames<EventTypes>>(event: T, ...args: EventArgs<EventTypes, T>): boolean;
=======
  emit(event: EventTypes, ...args: Array<any>): boolean;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Add a listener for a given event.
   */
<<<<<<< HEAD
  on<T extends EventNames<EventTypes>>(event: T, fn: EventEmitter.ListenerFn<EventArgs<EventTypes, T>>, context?: any): this;
  addListener<T extends EventNames<EventTypes>>(event: T, fn: EventEmitter.ListenerFn<EventArgs<EventTypes, T>>, context?: any): this;
=======
  on(event: EventTypes, fn: EventEmitter.ListenerFn, context?: any): this;
  addListener(event: EventTypes, fn: EventEmitter.ListenerFn, context?: any): this;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Add a one-time listener for a given event.
   */
<<<<<<< HEAD
  once<T extends EventNames<EventTypes>>(event: T, fn: EventEmitter.ListenerFn<EventArgs<EventTypes, T>>, context?: any): this;
=======
  once(event: EventTypes, fn: EventEmitter.ListenerFn, context?: any): this;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Remove the listeners of a given event.
   */
<<<<<<< HEAD
  removeListener<T extends EventNames<EventTypes>>(event: T, fn?: EventEmitter.ListenerFn<EventArgs<EventTypes, T>>, context?: any, once?: boolean): this;
  off<T extends EventNames<EventTypes>>(event: T, fn?: EventEmitter.ListenerFn<EventArgs<EventTypes, T>>, context?: any, once?: boolean): this;
=======
  removeListener(event: EventTypes, fn?: EventEmitter.ListenerFn, context?: any, once?: boolean): this;
  off(event: EventTypes, fn?: EventEmitter.ListenerFn, context?: any, once?: boolean): this;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a

  /**
   * Remove all listeners, or those of the specified event.
   */
<<<<<<< HEAD
  removeAllListeners(event?: EventNames<EventTypes>): this;
}

declare namespace EventEmitter {
  export interface ListenerFn<Args extends any[] = any[]> {
    (...args: Args): void;
  }

  export interface EventEmitterStatic {
    new<EventTypes extends string | symbol | { [K in keyof EventTypes]: any[] } = string | symbol>(): EventEmitter<EventTypes>;
=======
  removeAllListeners(event?: EventTypes): this;
}

declare namespace EventEmitter {
  export interface ListenerFn {
    (...args: Array<any>): void;
  }

  export interface EventEmitterStatic {
    new<EventTypes extends string | symbol = string | symbol>(): EventEmitter<EventTypes>;
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a
  }

  export const EventEmitter: EventEmitterStatic;
}

export = EventEmitter;
